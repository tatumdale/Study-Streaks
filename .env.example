# StudyStreaks Environment Variables
# Copy this file to .env.local and fill in your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Supabase Database URL (from Supabase dashboard > Settings > Database)
DATABASE_URL="postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"

# Direct URL for connection pooling (optional but recommended for production)
DIRECT_URL="postgresql://postgres:[PROJECT-REF]:[PASSWORD]@aws-0-eu-west-2.pooler.supabase.com:5432/postgres"

# ============================================================================
# SUPABASE CONFIGURATION (NEW API KEY SYSTEM)
# ============================================================================

# Supabase Project URL (from Supabase dashboard > Settings > API)
SUPABASE_URL="https://[PROJECT-REF].supabase.co"

# NEW API KEYS (Recommended - Replace Legacy Keys)
# Supabase Publishable Key (safe for frontend - from Supabase dashboard > Settings > API Keys)
SUPABASE_PUBLISHABLE_KEY="sb_publishable_[YOUR-PUBLISHABLE-KEY]"

# Supabase Secret Key (server-side only - from Supabase dashboard > Settings > API Keys)
SUPABASE_SECRET_KEY="sb_secret_[YOUR-SECRET-KEY]"

# LEGACY KEYS (Deprecated - Only if new keys not available)
# Supabase Anon Key (legacy - from Supabase dashboard > Settings > API)
SUPABASE_ANON_KEY="eyJ[YOUR-ANON-KEY]"

# Supabase Service Role Key (legacy - from Supabase dashboard > Settings > API)
SUPABASE_SERVICE_ROLE_KEY="eyJ[YOUR-SERVICE-ROLE-KEY]"

# Supabase JWT Secret (from Supabase dashboard > Settings > API)
SUPABASE_JWT_SECRET="[YOUR-JWT-SECRET]"

# ============================================================================
# NEXT.JS & AUTHENTICATION
# ============================================================================

# NextAuth.js Secret (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET="your-nextauth-secret-32-characters-long"

# Application URL
NEXTAUTH_URL="http://localhost:3000"

# ============================================================================
# REDIS CONFIGURATION (for local development)
# ============================================================================

# Redis URL for sessions and caching
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD="devpass123"

# ============================================================================
# EMAIL CONFIGURATION (optional for development)
# ============================================================================

# SMTP Configuration
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM="noreply@studystreaks.com"

# ============================================================================
# FILE STORAGE (AWS S3 - for production)
# ============================================================================

# AWS Configuration (optional, for production deployment)
AWS_REGION="eu-west-2"
AWS_ACCESS_KEY_ID="your-access-key"
AWS_SECRET_ACCESS_KEY="your-secret-key"
AWS_S3_BUCKET="studystreaks-files"

# ============================================================================
# SECURITY & ENCRYPTION
# ============================================================================

# Encryption key for PII data (generate with: openssl rand -hex 32)
ENCRYPTION_KEY="your-64-character-encryption-key-for-pii-data-security"

# ============================================================================
# CLIENT-SIDE ENVIRONMENT VARIABLES
# ============================================================================

# App Configuration
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_APP_NAME="StudyStreaks"
NEXT_PUBLIC_APP_VERSION="1.0.0"
NEXT_PUBLIC_SUPPORT_EMAIL="support@studystreaks.com"

# Supabase Client Configuration (NEW API KEYS)
NEXT_PUBLIC_SUPABASE_URL="https://[PROJECT-REF].supabase.co"
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY="sb_publishable_[YOUR-PUBLISHABLE-KEY]"

# Legacy client configuration (if needed for compatibility)
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJ[YOUR-ANON-KEY]"

# Feature Flags
NEXT_PUBLIC_ENABLE_ANALYTICS="false"
NEXT_PUBLIC_ENABLE_MAINTENANCE_MODE="false"
NEXT_PUBLIC_ENABLE_REGISTRATION="true"

# Optional: Analytics and Monitoring
NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=""
NEXT_PUBLIC_SENTRY_DSN=""

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# Environment
NODE_ENV="development"

# File Upload Limits
MAX_FILE_SIZE="5242880"  # 5MB
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/webp,application/pdf"

# Rate Limiting
RATE_LIMIT_MAX="100"
RATE_LIMIT_WINDOW="900000"  # 15 minutes

# Skip environment validation (set to true for build processes)
SKIP_ENV_VALIDATION="false"